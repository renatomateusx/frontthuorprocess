{"remainingRequest":"C:\\Users\\Renato\\Documents\\thuorProject\\thuor\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Renato\\Documents\\thuorProject\\thuor\\src\\views\\Pages\\Login.vue?vue&type=style&index=0&id=7e8bcc18&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Renato\\Documents\\thuorProject\\thuor\\src\\views\\Pages\\Login.vue","mtime":1587317106880},{"path":"C:\\Users\\Renato\\Documents\\thuorProject\\thuor\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Renato\\Documents\\thuorProject\\thuor\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Renato\\Documents\\thuorProject\\thuor\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Renato\\Documents\\thuorProject\\thuor\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Renato\\Documents\\thuorProject\\thuor\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n.card-flat {\r\n  margin-top: 80px !important;\r\n}\r\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/Pages","sourcesContent":["<style scoped>\r\n.card-flat {\r\n  margin-top: 80px !important;\r\n}\r\n</style>\r\n<template>\r\n  <div class=\"block-center mt-4 wd-xl\">\r\n    <notifications group=\"foo\" position=\"center top\" />\r\n    <!-- START card-->\r\n    <div class=\"card card-flat\">\r\n      <div class=\"card-header text-center bg-dark\">\r\n        <a href=\"#\">\r\n          <img\r\n            class=\"block-center rounded\"\r\n            src=\"img/logoThuor.png\"\r\n            width=\"85\"\r\n            height=\"34\"\r\n            alt=\"Image\"\r\n          />\r\n        </a>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <p class=\"text-center py-2\">Identifique-se.</p>\r\n        <form class=\"mb-3\" @submit.prevent=\"validateBeforeSubmit('login')\" data-vv-scope=\"login\">\r\n          <div class=\"form-group\">\r\n            <div class=\"input-group with-focus\">\r\n              <input\r\n                :class=\"{'form-control border-right-0':true, 'is-invalid': errors.has('login.email')}\"\r\n                placeholder=\"E-mail\"\r\n                v-model=\"login.email\"\r\n                v-validate=\"'required|email'\"\r\n                type=\"text\"\r\n                name=\"email\"\r\n              />\r\n              <div class=\"input-group-append\">\r\n                <span class=\"input-group-text text-muted bg-transparent border-left-0\">\r\n                  <em class=\"fa fa-envelope\"></em>\r\n                </span>\r\n              </div>\r\n              <span\r\n                v-show=\"errors.has('login.email')\"\r\n                class=\"invalid-feedback\"\r\n              >{{ errors.first('login.email') }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <div class=\"input-group with-focus\">\r\n              <input\r\n                :class=\"{'form-control  border-right-0':true, 'is-invalid': errors.has('login.password')}\"\r\n                v-model=\"login.password\"\r\n                v-validate=\"'required'\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Senha\"\r\n              />\r\n              <div class=\"input-group-append\">\r\n                <span class=\"input-group-text text-muted bg-transparent border-left-0\">\r\n                  <em class=\"fa fa-lock\"></em>\r\n                </span>\r\n              </div>\r\n              <span\r\n                v-show=\"errors.has('login.password')\"\r\n                class=\"invalid-feedback\"\r\n              >{{ errors.first('login.password') }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"clearfix\">\r\n            <div class=\"float-left\">\r\n              <div class=\"custom-control custom-checkbox\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  name=\"rememberme\"\r\n                  id=\"rememberme\"\r\n                  v-model=\"login.rememberme\"\r\n                />\r\n                <label class=\"custom-control-label\" for=\"rememberme\">Lembrar-me</label>\r\n              </div>\r\n            </div>\r\n            <div class=\"float-right\">\r\n              <router-link class=\"text-muted\" to=\"/recover\">\r\n                <small>Esqueceu sua senha?</small>\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n          <button class=\"btn btn-block btn-primary mt-3\" type=\"submit\">Login</button>\r\n        </form>\r\n        <p class=\"pt-3 text-center\">Quer se registrar?</p>\r\n        <router-link class=\"btn btn-block btn-secondary\" to=\"/register\">Clique aqui</router-link>\r\n      </div>\r\n    </div>\r\n    <!-- END card-->\r\n    <div class=\"p-3 text-center\">\r\n      <br />\r\n      <span>\r\n        Thuor\r\n        <span class=\"mr-2\">&copy;</span>- Processando Pagamentos Desde 2009\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport VeeValidate from \"vee-validate\";\r\nimport Loading from \"vue-loading-overlay\";\r\nimport API_NOTIFICATION from \"../../api/notification\";\r\n// Import stylesheet\r\nimport \"vue-loading-overlay/dist/vue-loading.css\";\r\nimport API_LOGIN from \"../../api/loginAPI\";\r\nimport API_HEADERS from \"../../api/configAxios\";\r\n\r\nVue.use(Loading);\r\n\r\nVue.use(VeeValidate, {\r\n  fieldsBagName: \"formFields\" // fix issue with b-table\r\n});\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      login: {\r\n        email: \"\",\r\n        password: \"\",\r\n        rememberme: false\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    showLoading() {\r\n      Vue.prototype.$loader = this.$loading.show({\r\n        // Optional parameters\r\n        container: this.fullPage ? null : this.$refs.formContainer,\r\n        canCancel: true,\r\n        onCancel: this.onCancel,\r\n        fullPage: true,\r\n        loader: \"bars\",\r\n        color: \"#007BFF\",\r\n        width: 80,\r\n        height: 80\r\n      });\r\n    },\r\n    hideLoading() {\r\n      Vue.prototype.$loader.hide();\r\n    },    \r\n    validateBeforeSubmit(scope) {\r\n      this.$validator.validateAll(scope).then(result => {\r\n        if (result) {\r\n          this.showLoading();\r\n          // simulate AJAX\r\n          API_LOGIN.EfetuarLogin(this.login.email, this.login.password)\r\n            .then(retorno => {\r\n              sessionStorage.setItem(\"user\", JSON.stringify(retorno.data));\r\n              API_LOGIN.VerificaToken();\r\n              this.$router.push('home');\r\n              this.hideLoading();\r\n            })\r\n            .catch(error => {\r\n              //console.log(\"Erro ao efetuar login\", error);\r\n              this.hideLoading();\r\n              API_NOTIFICATION.Notifica(\"Oops!\", \"Login e Senha inv√°lidos\");\r\n            });\r\n\r\n          return;\r\n        }\r\n        console.log(\"Correct them errors!\");\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}