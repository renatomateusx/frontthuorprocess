const TEMPLATE_ITENS_CART='<div class="product"> <div class="row col-md-12"> <div class="mt-2 w-100 col-md-9"> <img class="rounded img-fluid float-left imgVariant" src="{img}"/> <div class="product-name"> <div class="product-name mt-1 col-md-10"> <a class="ml-2 w-100" href="#">{title}</a> <div class="product-info"> <div> <span class="value ml-2">{variant_title}</span> </div></div><div class="product-info"> <div> <span class="value ml-2"> <small>{quantity} Unidade(s) - <b>R${variant_price}</b> </small> </span> </div></div></div></div></div><div class="col-md-2 mt-4"><span class="fa fa-trash itemCartDelete" id="{id_cart}"></span></div></div><hr/></div>',TEMPLATE_ITENS_FRETE='<div class="card-default minusmargintop col-md-12 " > <div class="card-body"> <div class="form-group row formGroup"> <button type="button" class="btn btn-secondary col-md-11 pull-left float-left btnFrete classSelected" id="{id_frete}" > <p> <span class="text-left pull-left float-left col-md-10 textInfoFrete">{nome_frete}</span> </p><p> <span class="text-left pull-left float-left ml-0 col-md-10 textInfoFrete">Preço: R${{preco_frete}}</span> </p><p> <span class="text-left pull-left float-left ml-0 col-md-10"> <small>Entrega garantida</small> </span> </p></button> </div></div></div>',ULR_BASE="https://api.thuor.com:7443/",ULR_BASE_WEB="https://app.thuor.com/",URL_END_POINT_GET_PRODUTO_BY_ID=ULR_BASE+"produtos/GetProdutoByIDThuor",URL_END_POINT_SAVE_REVIEW=ULR_BASE+"reviews/SaveReview",URL_END_POINT_GET_PRODUCT=ULR_BASE+"produtos/GetProdutoIDThuor",URL_END_POINT_GET_PRODUCT_IMPORTED=ULR_BASE+"produtos/GetProdutoByIDImportedCheckoutIndependente",URL_END_PONT_GET_CEP=ULR_BASE+"extras/ViaCEP",URL_END_POINT_GET_DADOS_LOJA=ULR_BASE+"integracaoShopify/GetDadosLojaByIDUsuario",URL_END_POINT_GET_DADOS_CHECKOUT=ULR_BASE+"checkouts/GetCheckoutAtivo",URL_END_POINT_GET_FRETE=ULR_BASE+"logisticas/GetFretes",URL_END_POINT_GET_PIXELS=ULR_BASE+"pixels/GetPixels",URL_END_POINT_PAY_TICKET=ULR_BASE+"checkouts/DoPayTicket",URL_END_POINT_PAY_CARD=ULR_BASE+"checkouts/DoPay",URL_END_POINT_SAVE_LEAD=ULR_BASE+"clientes/SaveLead";var VarianteIDUpSellSelected,VarianteImageUpSellSelected,VarianteSKUUpSellSelected,VariantePriceUpSellSelected,VarianteTitleUPSellSelected,direct_to_checkout,isShowingLoading=!1,formValidateDadosPessoais=[],formValidateDadosEndereco=[],formValidateDadosCartao=[],errors=[],base64Image="",plataforma="",url_loja=window.location.host,id_produto_geral="",rating="",price=123.45,decimal=",",thousands=".",prefix=" ",suffix="",precision=2,masked=!1,DadosCheckout={},produtosCart=[],fretes=[],freteSelecionado=-1,dadosLoja={},nomeLoja="",currentStep=1,nome_completo="",telefone="",cpf="",email="",CEP="",endereco="",numero_porta="",bairro="",complemento="",destinatario="",cidade="",estado="",parcelas="",codigo_seguranca="",cpf_titular="",nome_titular="",validade="",cardToken="",card_number="",payment_id="",stepDadosPessoaisFinalizados=0,stepDadosEnderecoFinalizados=0,valorTotalCompra=0,valorFrete=0,formaPagamento="any",ImageProcessor="",vueSelectValue="",totalQuantity=0,granTotal=0,granDesconto=0,granQuantity=0,granSubTotal=0,descontoCupom=0,produtoToSell={},produtoVariantes=[],images=[],VarianteIDProdutoJSONUpSellSelected=0,quantity=1,cidadeEnd="",estadoEnd="",pixels={},LTotal=0;const template=document.createElement("template");template.innerHTML='<div class="col-md-12 mt-5"> <div class="row mt-2"> <div class="col-md-3 mr-0 pr-0 pl-0"></div><div class="col-xl-6 ml-0 mr-0 pr-0 pl-0"> <form> <form name="form" id="form"> <div class="block-center"> <div class="container-fluid"> <div class="card shopping-cart mb-0"> <div class="card-header bg-dark text-light hidden"> <span class="col-md-12"><strong id="pnome_loja">Thuor.com</strong></span> <div class="item-security pull-right float-right black-70 ml30 row" aria-hidden="true"> <div class="holder-icon col-md-2" style="display:none;"> <div class="fa fa-lock"></div></div><div class="text mr-2"> <div class="fa fa-lock"></div><strong class="ml-1">Pagamento</strong> <br/> <strong class="green">100% seguro</strong> </div></div></div><span class></span> <div class="badge badge-blue iconStep" style="display:none;">1</div></div><div class="row col-lg-12 col-lg-offset-2" style=" margin: 0 auto; display:block"> <div class="col-md-4 mt-0 mb-0 cardSide"> <div class="card card-default mb-3"> <div class="card-header rounded "> <div class="row"> <span class="col-md-12 mt-3 ml-2 mr-0"><strong>Escolha quais opções irá levar:</strong></span> <div class="product-info row col-md-12 text-center marginCenter" id="productOptions"></div><button id="buttonAdd" type="button" class="mt-2 btn btn-primary btn-lg btn-block float-left pull-left btnContinue ">Adicionar</button> </div></div></div><div id="formResumo" class="card card-default mb-0"> <div class="card-header rounded"> <a style="cursor:pointer!important;" data-toggle="collapse" aria-expanded="false" aria-controls="collapseResumo" id="collapseR"> <span id="collapseParent" style="margin-top: 1px!important;" class="resumoCompra pull-left float-left ml-0" role="button">Resumo</span> <small style="cursor:pointer!important; margin-top: 2px!important;" class="ml-2 text-left textItems " id="totalQuantity"> Nenhum Item </small> <small class="valorTotalCollapse pull-right float-right"> <span class="valorTotalCollapse" id="granTotal">R$ 0,00</span> <span class="fa fa-arrow-down comandoCollapse pull-right float-right" id="comandoCollapse" role="button"></span> </small> </a> <div class="col-lg-12 collapse" id="collapseResumo" data-parent="#collapseParent"> <div class="col-md-12 ValorTotalResumo mt-3"> <span class="textValorTotal col-md-12" id="granTotal2">Valor: R$ 0,00</span> </div><div class="row"> <div class="col-md-12"> <div class="items" id="items"> <span class="col-md-12 alert alert-info p-2 text-center marginCenter d-block">Seu carrinho ainda está vazio. Adicione itens para vê-los aqui.</span> </div></div></div></div></div><div class="card-body minusmargintop"></div></div></div><form class="form-horizontal " id="formCheckout"> <div class="col-md-4 col-xl-4 mt-0 mb-0 cardSide"> <div class="card card-default mb-0 hidden" id="formContinua"> <div class="card-body minusmargintop" id="carrinhoForm"> <div class="form-group row mt-3"> <div class="col-xl-12"> <button class="btn btn-sm btn-primary btn-lg btn-block float-right mb-0 btnContinue" type="button" id="btnAcao"> Continuar <span class="fa fa-arrow-right ml-2" style="position:relative; top:1px"></span> </button> </div></div></div></div></div></form> </div></div></div></form> </form> </div><div class="col-md-3 mr-0 pr-0 pl-0"></div></div></div>';class CheckoutMP extends HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"}),this.arrayCSSs.forEach((e,t)=>{var o=document.createElement("link");o.id=t,o.rel="stylesheet",o.type="text/css",o.href=e.script,o.media="all",this._shadowRoot.appendChild(o)}),this.arrayScripts.forEach((e,t)=>{let o=document.createElement("script");o.type="text/javascript",o.setAttribute("src",e.script),1==e.trigger&&(o.onload=function(){e.call}),this._shadowRoot.appendChild(o)});var e=this;window.onload=function(){e.ShowLoading();const t=document.createElement("script");t.onload=function(){console.log("Carregado Script MP"),e.initializeFunction()},t.setAttribute("src","https://secure.mlstatic.com/sdk/javascript/v1/mercadopago.js"),t.async=!0,e._shadowRoot.appendChild(t)},this._shadowRoot.appendChild(template.content.cloneNode(!0))}get html(){return'<div class="col-md-12 mt-5"> <div class="row mt-2"> <div class="col-md-3 mr-0 pr-0 pl-0"></div><div class="col-xl-6 ml-0 mr-0 pr-0 pl-0"> <form> <form name="form" id="form"> <div class="block-center"> <div class="container-fluid"> <div class="card shopping-cart mb-0"> <div class="card-header bg-dark text-light"> <span class="col-md-12"><strong id="pnome_loja">Thuor.com</strong></span> <div class="item-security pull-right float-right black-70 ml30 row" aria-hidden="true"> <div class="holder-icon col-md-2" style="display:none;"> <div class="fa fa-lock"></div></div><div class="text mr-2"> <div class="fa fa-lock"></div><strong class="ml-1">Pagamento</strong> <br/> <strong class="green">100% seguro</strong> </div></div></div><span class></span> <div class="badge badge-blue iconStep" style="display:none;">1</div></div><div class="row col-lg-12 col-lg-offset-2" style=" margin: 0 auto; display:block"> <div class="col-md-4 mt-0 mb-0 cardSide"> <div class="card card-default mb-3"> <div class="card-header rounded "> <div class="row"> <span class="col-md-12 mt-3 ml-2 mr-0"><strong>Escolha quais opções irá levar</strong></span> <div class="product-info row col-md-12 text-center marginCenter" id="productOptions"></div><button  type="button" class="mt-2 btn btn-primary btn-lg btn-block float-left pull-left btnContinue ">Adicionar</button> </div></div></div><div id="formResumo" class="card card-default mb-0"> <div class="card-header rounded"> <a style="cursor:pointer!important;" data-toggle="collapse" aria-expanded="false" aria-controls="collapseResumo" id="collapseRes"> <span id="collapseParent" style="margin-top: 1px!important;" class="resumoCompra pull-left float-left ml-0" role="button">Resumo</span> <small style="cursor:pointer!important;" class="ml-2 text-left textItems " id="totalQuantity"> Nenhum Item </small> <small class="valorTotalCollapse pull-right float-right"> <span class="valorTotalCollapse" id="granTotal">R$ 0,00</span> <span class="fa fa-arrow-down comandoCollapse pull-right float-right" id="comandoCollapse" role="button"></span> </small> </a> <div class="col-lg-12 collapse" id="collapseResumo" data-parent="#collapseParent"> <div class="col-md-12 ValorTotalResumo mt-3"> <span class="textValorTotal col-md-12" id="granTotal2">Valor: R$ 0,00</span> </div><div class="row"> <div class="col-md-12"> <div class="items" id="items"> <span class="col-md-12 alert alert-info p-2 text-center marginCenter d-block">Seu carrinho ainda está vazio. Adicione itens para vê-los aqui.</span> </div></div></div></div></div><div class="card-body minusmargintop"></div></div></div><form class="form-horizontal " id="formCheckout"> <div class="col-md-4 col-xl-4 mt-0 mb-0 cardSide"> <div class="card card-default mb-0 hidden" id="formContinua"> <div class="card-header rounded"> <span class="badge badge-blue iconBadge">1</span> <span class="dadosPessoais">Dados Pessoais</span> <span class="fa fa-edit pull-right float-right cursorP hidden" id="editaDadosPessoaisButton" ></span> <p> <small class="textInformation col-md-10">Solicitamos somente as informações essenciais para você fazer sua compra.</small> </p></div><div class="card-body minusmargintop " id="editaDadosPessoaisLabel"> <div class="form-group row formGroup mt-3"> <label id="pnome_completo" class="col-xl-12 col-form-label labelForm dadosPessoaisNomeCompletoVModel paddingTopBottomZERO" v-show="nome_completo"></label> <label id="pemail" class="col-xl-12 col-form-label labelForm paddingTopBottomZERO" v-show="email"></label> <label id="pcpf" class="col-xl-12 col-form-label labelForm paddingTopBottomZERO" v-show="cpf"></label> <label id="ptelefone" class="col-xl-12 col-form-label labelForm paddingTopBottomZERO"></label> </div></div><div class="card-body minusmargintop" id="editaDadosPessoaisForm"> <div class="form-group row formGroup"> <label class="col-md-10 col-form-label labelForm">E-mail</label> <div class="col-xl-12"> <input autocomplete="off" class="form-control" type="email" v-model.lazy="email" id="email" placeholder="Digite seu E-mail"/> </div></div><div class="form-group row formGroup"> <label class="col-xl-12 col-form-label labelForm">Nome Completo</label> <div class="col-xl-12"> <input class="form-control required" autocomplete="off" type="text" minlength="5" v-model.lazy="nome_completo" id="nome_completo" placeholder="Digite seu nome aqui"/> </div></div><div class="form-group row formGroup"> <label class="col-xl-12 col-form-label labelForm">CPF</label> <div class="col-md-7"> <input onchange="maskCPF()" onblur="saveLead()" minlength="14" maxlength="14" class="form-control required" autocomplete="off" id="cpf" type="text" v-model="cpf" placeholder="Digite seu CPF"/> </div></div><div class="form-group row formGroup"> <label class="col-xl-12 col-form-label labelForm" for="telefone">Celular / WhatsApp</label> <div class="col-xl-7 col-md-9"> <div class="input-group mb-0"> <div class="input-group-prepend"> <div class="input-group-text">+55</div></div><input class="form-control" id="telefone" type="text" minlength="15" maxlength="15" onchange="maskTelefone()" placeholder="71 9 9130-6561"/> </div></div></div><div class="form-group row mt-3"> <div class="col-xl-12"> <button class="btn btn-sm btn-primary btn-lg btn-block float-right mb-0 btnContinue"  type="button"> Continuar <span class="fa fa-arrow-right ml-2" style="position:relative; top:1px"></span> </button> </div></div></div></div></div><div class="col-md-4 mt-0 mb-0 cardSide"> <div class="card card-default mb-0 hidden" id="formDadosEndereco"> <div class="card-header rounded"> <span class="badge badge-blue iconBadge">2</span> <span class="dadosPessoais">Entrega</span> <span class="fa fa-edit pull-right float-right cursorP hidden" id="editaDadosEnderecoButton" ></span> <p> <small class="textInformation col-md-10">Cadastre ou selecione um endereço para receber sua encomenda.</small> </p></div><div class="card-default minusmargintop hidden" id="editaDadosEnderecoLabel"> <div class="card-body"> <div class="form-group row formGroup mt-3"> <label class="col-xl-12 col-form-label labelForm enderecoEntregaHeader paddingTopBottomZERO"> <b>Endereço de Entrega:</b> </label> <label class="col-xl-12 col-form-label labelForm paddingTopBottomZERO"> <b id="penderecobairro"></b> </label> <label class="col-xl-12 col-form-label labelForm paddingTopBottomZERO" id="pcidadeestado"></label> <label class="col-xl-12 col-form-label labelForm paddingTopBottomZERO" id="pcep"></label> </div></div></div><div class="card-body minusmargintop" id="editaDadosEnderecoForm"> <div class="form-group row formGroup"> <label class="col-xl-12 col-form-label labelForm">CEP</label> <div class="col-md-7"> <input onchange="consultaCEP()" class="form-control required" autocomplete="off" type="text" id="cep" maxlength="9" placeholder="Digite seu CEP"/> </div><span class="localidade col-md-6 pull-left float-left text-left" v-show="getCidade()" id="cidadeestado"></span> </div><div class="form-group row formGroup" v-show="endereco"> <label class="col-md-12 col-form-label labelForm">Endereço</label> <div class="col-xl-12"> <input autocomplete="off" class="form-control" type="address" id="endereco" v-model="endereco" placeholder="Digite seu E-mail"/> </div></div><div class="form-group row formGroup" v-show="endereco"> <div class="col-md-6 mt-1"> <label class="col-xl-12 col-form-label labelForm paddingZero mb-1">Número</label> <input class="form-control required" autocomplete="off" type="text" id="numero_porta"/> </div><div class="col-md-6 mt-1" v-show="bairro"> <label class="col-xl-6 col-form-label labelForm paddingZero mb-1">Bairro</label> <input class="form-control required" id="bairro" autocomplete="off" type="text" v-model="bairro"/> </div></div><div class="form-group row formGroup" v-show="endereco"> <label class="col-xl-12 col-form-label labelForm">Complemento</label> <div class="col-md-12"> <input class="form-control" autocomplete="complement" id="complemento" v-model="complemento" type="text"/> </div></div><div class="form-group row formGroup" v-show="endereco"> <label class="col-xl-12 col-form-label labelForm">Destinatário</label> <div class="col-md-12"> <input class="form-control" autocomplete="receiver" id="destinatario" v-model="destinatario" type="text"/> </div></div><div class="form-group row mt-3"> <div class="col-xl-12"> <button class="btn btn-sm btn-primary btn-lg btn-block float-right mb-0 btnContinue"  type="button"> Continuar <span class="fa fa-arrow-right ml-2" style="position:relative; top:1px"></span> </button> </div></div></div><div class="col-md-12" id="cardFretes"></div></div></div><div class="col-md-4 mt-0 mb-0 cardSide"> <div class="card card-default mb-0 hidden" id="formDadosPagamento"> <div class="card-header rounded"> <span class="badge badge-blue iconBadge">3</span> <span class="dadosPessoais">Pagamento</span> <p> <small class="textInformation col-md-10">Escolha abaixo uma forma de pagamento.</small> </p><p class="mt-5 col-md-12"> <small class> Processado por: <strong>Mercado Pago</strong> </small> </p><div class="form-group row formGroup"> <button type="button" id="creditCard"  class="btn btn-secondary col-md-11 pull-left float-left btnFormaPagamentoSelecionada mb-2 opcaoDeselecionada"> <p> <span class="text-left pull-left float-left col-md-10">Cartão de Crédito</span> <span class="text-left pull-left float-left col-md-10"> <img src="http://github.bubbstore.com/formas-de-pagamento/visa.svg" style="width: 65px!important; height: auto"/> </span> </p><p> <span class="text-left pull-left float-left ml-0 col-md-10"> <small>Pagamento 100% seguro</small> </span> </p><p id="creditCardSel" class="hidden"> <span class="text-left pull-left float-left ml-0 col-md-10 selecionadoInfo"> <small>Selecionado</small> </span> </p></button> <div class="card-body minusmargintop hidden" id="creditCardForm"> <div class="form-group row formGroup mt-3"> <label class="col-xl-12 col-form-label labelForm"> Número do Cartão </label> <div class="col-md-7"> <input onchange="verificaDigitosCartao()" class="form-control required" autocomplete="cc-number" type="text" id="card_number" v-model="card_number"/> </div></div><div class="form-group row formGroup"> <label class="col-xl-12 col-form-label labelForm">Validade</label> <div class="col-md-5"> <input onchange="maskValidade()" autocomplete="cc-exp" class="form-control" type="text" id="validade" v-model="validade" placeholder="MM/AA" minlength="5" maxlength="5"/> </div></div><div class="form-group row formGroup"> <label class="col-xl-12 col-form-label labelForm">Nome do Titular do Cartão</label> <div class="col-md-7"> <input class="form-control required" id="nome_titular" autocomplete="name" type="text"/> </div></div><div class="form-group row formGroup"> <label class="col-xl-12 col-form-label labelForm">Cód. de Segurança</label> <div class="col-md-5"> <input class="form-control required" id="codigo_seguranca" autocomplete="security" type="text"/> </div></div><div class="form-group row formGroup"> <label class="col-xl-12 col-form-label labelForm">CPF do Titular</label> <div class="col-md-7"> <input onchange="maskCPFTitular()" minlength="14" maxlength="14" class="form-control required" autocomplete="off" type="text" id="cpf_titular" placeholder="Digite seu CPF"/> </div></div><div class="form-group row formGroup"> <label class="col-xl-2 col-form-label labelForm" for="inlineFormInputGroup">Parcelas</label> <div class="col-lg-12"> <small>Informe o cartão de crédito para selecionar as parcelas</small> <select id="dropParcelas" v-model="parcelas" class="form-control" name="installments" selectedIndex="0"> <option v-bind:value="parcelas" selected="selected"> </option> </select> </div></div><div class="form-group row mt-3"> <div class="col-xl-12"> <button class="btn btn-sm btn-primary btn-lg btn-block float-right mb-0 btnContinue"  type="button"> <span class="fa fa-lock mr-2" style="position:relative; top:1px"></span>Comprar Agora </button> </div></div></div><button type="button" id="bolbradesco" class="btn btn-secondary col-md-11 pull-left float-left btnFormaPagamentoSelecionada opcaoDeselecionada"> <p> <span class="text-left pull-left float-left col-md-10">Boleto</span> <span class="text-left pull-left float-left col-md-10"> <img src="http://github.bubbstore.com/formas-de-pagamento/boleto-barcode.svg" style="width: 65px!important; height: auto"/> </span> </p><p> <span class="text-left pull-left float-left ml-0 col-md-10"> <small>Processamento em 3 dias.</small> </span> </p><p id="bolbradescoSel" class="hidden"> <span class="text-left pull-left float-left ml-0 col-md-10 selecionadoInfo"> <small>Selecionado</small> </span> </p></button> <div class="card-body minusmargintop hidden" id="bolbradescoForm"> <div class="form-group row mt-2"> <small class="text-justify col-md-11 smallInforFormaPagamentoBoleto">Somente quando recebermos a confirmação, em até 72h após o pagamento, seguiremos com o envio das suas compras. O prazo de entrega passa a ser contado somente após a confirmação do pagamento.</small> </div><div class="form-group row mt-2"> <span class="valorNoBoleto col-md-12 ml-1"> Valor no Boleto <strong>R$ <span id="valorTotalBoleto"></span></strong> </span> </div><div class="form-group row mt-3"> <div class="col-xl-12"> <button class="btn btn-sm btn-primary btn-lg btn-block float-right mb-0 btnContinue"  type="button"> <span class="fa fa-lock mr-2" style="position:relative; top:1px"></span>Comprar Agora </button> </div></div></div></div></div></div></div></form> </div></div></div></form> </form> </div><div class="col-md-3 mr-0 pr-0 pl-0"></div></div></div>'}get css(){return'.marginCenter{margin:0auto!important;}.loader{position:relative;display:inline-block;width:50px;height:50px;vertical-align:middle;}.loader-barsspan,.loader-bars:after,.loader-bars:before{content:\'\';display:block;position:absolute;left:0;top:0;width:10px;height:30px;background-color:#23b7e5;-webkit-animation:grow1.5slinearinfinite;animation:grow1.5slinearinfinite}.loader-bars:after{left:15px;-webkit-animation:grow1.5slinear-.5sinfinite;animation:grow1.5slinear-.5sinfinite}.loader-barsspan{left:30px;-webkit-animation:grow1.5slinear-1sinfinite;animation:grow1.5slinear-1sinfinite}@-webkit-keyframesgrow{0%{-webkit-transform:scaleY(0);transform:scaleY(0);opacity:0}50%{-webkit-transform:scaleY(1);transform:scaleY(1);opacity:1}100%{-webkit-transform:scaleY(0);transform:scaleY(0);opacity:0}}@keyframesgrow{0%{-webkit-transform:scaleY(0);transform:scaleY(0);opacity:0}50%{-webkit-transform:scaleY(1);transform:scaleY(1);opacity:1}100%{-webkit-transform:scaleY(0);transform:scaleY(0);opacity:0}}@-webkit-keyframesspin{0%{-webkit-transform:rotate(0);tranform:rotate(0)}100%{-webkit-transform:rotate(360deg);tranform:rotate(360deg)}}@keyframesspin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframesspinreverse{0%{-webkit-transform:rotate(0);tranform:rotate(0)}100%{-webkit-transform:rotate(-360deg);tranform:rotate(-360deg)}}@keyframesspinreverse{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}.swal-wide{width:280px!important;height:150px;}.loadingSwall{border-color:#23b7e5!important;width:80px!important;height:80px!important;margin-bottom:20px;}.widthLoadingDiv{display:block;width:15%!important;margin:0auto!important; color: #5d9cec!important}.text-aguard{font-size:35px;top:0px!important;position:relative;margin:0auto;padding:0;color:#23b7e5!important;}.card-flat{margin-top:80px!important;}.bg-dark{background-color:#23b7e5!important;}.footerText{font-size:12px!important;}.custom-file-label::after{content:"Procurar"!important;height:100%!important;}.cursorP{cursor:pointer!important;}.starFulFill{color:gold;margin-left:5px!important;}.starNotFulFill{color:white;}.alertErros{margin-top:0px!important;padding:5px!important;}.success{color:green;font-size:15px!important;}.danger{color:red;font-size:15px!important;}input[file-upload-button]{background-color:#3498db;border-radius:5px;color:#fff;cursor:pointer;margin:10px;padding:6px20px}/*Aparênciaqueteráoseletordearquivo*/.hidden{display:none!important;}.checkedBuy{color:green;font-size:20px!important;}.noopen{text-decoration:none!important;}.fontName{font-size:21px!important;margin-left:0px!important;left:0!important;}.imageThumb{margin:0auto!important;display:block!important;}fieldset,label{margin:0;padding:0;}body{margin:20px;}h1{font-size:1.5em;margin:10px;}/******StyleStarRatingWidget*****/.rating{border:none;float:left;}.rating>input{display:none;}.rating>label:before{margin:5px;font-size:1.25em;font-family:FontAwesome;display:inline-block;content:"\f005";}.rating>.half:before{content:"\f089";position:absolute;}.rating>label{color:#ddd;float:right;}/*****CSSMagictoHighlightStarsonHover*****/.rating>input:checked~label,/*showgoldstarwhenclicked*/.rating:not(:checked)>label:hover,/*hovercurrentstar*/.rating:not(:checked)>label:hover~label{color:gold;}/*hoverpreviousstarsinlist*/.rating>input:checked+label:hover,/*hovercurrentstarwhenchangingrating*/.rating>input:checked~label:hover,.rating>label:hover~input:checked~label,/*lightencurrentselection*/.rating>input:checked~label:hover~label{color:gold;}.fontf{color:gold;}.imageDisplayOff{display:none!important;}.imageDisplayOn{display:block!important;}.card-flat{margin-top:80px!important;}.bg-dark{background-color:#23b7e5!important;}.btn-outline-info{color:white;border-color:white;}.green{color:green!important;}.holder-icon{left:0;position:absolute;top:15px;font-size:22px;}.remove{position:relative;top:33px;cursor:pointer;}.center{text-align:center;display:block;}.QuatroCincopx{width:45px!important;}.compare{color:red;font-weight:700;}.priceReal{color:green;font-weight:700;}.desconto{color:blue;font-weight:700;}.btnIncrementDecrement{height:21px;}.spanIncrementDecrement{top:-6px;margin:0auto;position:relative;}.cursorP{cursor:pointer!important;}.btnKeepBuyingFooter{color:#5d9cec;border-color:#5d9cec;}.iconBadge{background-color:#5d9cec;font-size:15px;color:white;}.iconStep{border-radius:50px;width:50px;height:50px;margin:0auto;display:block;color:white;background-color:#5d9cec;text-align:center;font-size:34px;margin-top:5px;line-height:normal;}.dadosPessoais{font-size:20px;font-weight:900;top:1px;position:relative;color:#5d9cec;margin-left:10px;}.resumoCompra{font-size:16px;font-weight:900;top:1px;position:relative;color:#5d9cec;margin-left:10px;}.comandoCollapse{margin-left:5px;top:2px;position:relative;color:dodgerblue;font-size:17px;}.labelForm{margin:000px;color:#4d4d4d;font-weight:700;}.formGroup{margin-bottom:0rem;}.card-default{border-color:#5d9cec;}.cardSide{padding:05px;box-sizing:border-box;border-radius:50px;display:inline!important;}.textInformation{line-height:14px;color:#999!important;padding:0;padding-left:30px;float:left;font-size:11px;margin-bottom:10px;}.minusmargintop{margin-top:-30px!important;}.box-title{position:relative;padding:030px035px;box-sizing:border-box;}.card-default{border-radius:7px;}.btnContinue{height:50px;font-size:20px;border-radius:10px;}.rounded{border-radius:7px!important;}.disabledBox{cursor:default;pointer-events:none;-moz-opacity:0.6;-khtml-opacity:0.6;-webkit-opacity:0.6;opacity:0.6;}.paddingZero{padding:0;}.localidade{top:5px!important;font-size:12px;}.dadosPessoaisNomeCompletoVModel{color:#4d4d4d!important;font-weight:700!important;font-size:15px;}.paddingTopBottomZERO{padding-bottom:0px!important;padding-top:0px!important;}.enderecoEntregaHeader{font-size:15px;font-weight:700;color:grey;}.opcaoSelecionada{background-color:#dcdcdc!important;color:black!important;font-weight:bold!important;border-color:#dcdcdc!important;border:2pxsolid#ccc!important;}.opcaoDeselecionada{font-weight:bold!important;color:gray!important;border-color:2pxsolid#23b7e5!important;background-color:white!important;}.btnFrete{padding:15px;margin:10px;cursor:pointer!important;border-radius:10px;}.btnFormaPagamentoSelecionada{padding:5px;margin:5px;cursor:pointer!important;border-radius:10px;margin:0auto!important;margin-bottom:10px!important;}.smallInforFormaPagamentoBoleto{margin:0auto!important;padding:5px;margin:5px;cursor:pointer!important;border-radius:10px;color:black;background-color:#dcdcdc;border:2pxsolid#ccc;}.selecionadoInfo{margin-top:10px;color:blueviolet;text-align:right!important;float:right!important;}.ValorTotalResumo{background-color:#f5f5f5;border-radius:9px;height:40px;color:white!important;}.textValorTotal{color:black;font-weight:700;font-size:1.2em;display:block;margin:0auto;text-align:center;top:5px;float:left!important;}.textItems{color:black;margin-bottom:5px!important;}.imgVariant{width:50px;height:50px;top:7px;position:relative;}.textInfoFrete{text-align:left;font-size:11px;white-space:pre-wrap;}.imageCard{width:25px!important;height:25px!important;}.valorTotalCollapse{font-weight:700;color:#3fc583!important;font-size:15px;}.hidden{display:none!important;}@mediaonlyscreenand(max-width:992px){#btnTop{display:block!important;}.valorTotalCollapse{font-weight:700;color:#3fc583!important;font-size:11px!important;top:3px!important;position:relative;}.resumoCompra{font-size:13px!important;}.comandoCollapse{margin-left:5px;top:0px!important;position:relative;color:dodgerblue;font-size:15px!important;}}@mediaonlyscreenand(max-width:767px){.QuatroCincopx{margin-left:0px!important;}.remove{float:left;left:60px;position:relative;top:-54px;cursor:pointer;font-size:25px;}.valorTotalCollapse{font-weight:700;color:#3fc583;font-size:11px!important;top:3px!important;position:relative;}.resumoCompra{font-size:13px!important;}.comandoCollapse{margin-left:5px;top:0px!important;position:relative;color:dodgerblue;font-size:15px!important;}.textItems{position:relative;top:0px!important;}}'}get arrayCSSs(){return[{script:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"},{script:"https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/8.11.8/sweetalert2.min.css"},{script:"./styleck.css"},{script:"https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"}]}get arrayScripts(){return[{script:"https://unpkg.com/axios/dist/axios.min.js",trigger:0},{script:"https://code.jquery.com/jquery-3.2.1.slim.min.js",trigger:0},{script:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js",trigger:0},{script:"https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/8.11.8/sweetalert2.all.min.js",trigger:0},{script:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js",trigger:0},{script:"https://use.fontawesome.com/aa8f958ac7.js",trigger:0},{script:"https://kit.fontawesome.com/2ecd77a85b.js",trigger:0}]}getDadosLoja(e){this.postAxios(URL_END_POINT_GET_DADOS_LOJA,{id_usuario:e},t=>{dadosLoja=t.data,this.postAxios(URL_END_POINT_GET_DADOS_CHECKOUT,{id_usuario:e},e=>{DadosCheckout=e.data,window.Mercadopago.setPublishableKey(DadosCheckout.chave_publica)})})}ShowLoading(){this.isShowingLoading=!0,Swal.fire({customClass:"swal-wide",title:'<span class="text-aguard" style="color: #5d9cec!important;">Aguarde...</span>',html:" <div class='card-body align-items-center justify-content-center'>             <div style='color: #5d9cec!important;' class='fa-5x fa fa-spinner fa-spin widthLoadingDiv'>    </div>        </div>",showConfirmButton:!1,showCancelButton:!1,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,timerProgressBar:!0,onBeforeOpen:()=>{},onClose:()=>{}})}HideLoading(){this.isShowingLoading&&(Swal.close(),this.isShowingLoading=!1)}postAxios(e,t,o){axios.post(e,t).then(function(e){o(e)}).catch(function(e){console.log("Erro ao executar Axios",e)})}getAxios(e,t){axios.get(e).then(function(e){console.log(e)}).catch(function(e){console.log(e)}).finally(function(){})}getPixels(e){this.postAxios(URL_END_POINT_GET_PIXELS,{id_usuario:e},e=>{pixels=e.data,this.InsertScriptGoogle(pixels),this.InsertScriptFace(pixels)})}getDadosLoja(e){this.postAxios(URL_END_POINT_GET_DADOS_LOJA,{id_usuario:e},t=>{dadosLoja=t.data,this.postAxios(URL_END_POINT_GET_DADOS_CHECKOUT,{id_usuario:e},e=>{DadosCheckout=e.data,window.Mercadopago.setPublishableKey(DadosCheckout.chave_publica)})})}getFieldValue(e){return new Promise((t,o)=>{try{const a=this._shadowRoot.getElementById(e);a&&a.value&&(console.log(a.value),t(a.value)),t(null)}catch(t){console.log("Erro ao pegar o valor do campo: ",e,t),o(t)}})}checkField(e){const t=this._shadowRoot.getElementById(e);return t&&!t.value}getFieldName(e){var t="";return"avaliacao"==e?"Avaliação":(e.indexOf("_")>-1&&(e.split("_").forEach((e,o)=>{t=t+e+" "}),e=t),this.toCamelCase(e))}toCamelCase(e){var t="";e.indexOf(" ")>-1?e.split(" ").forEach((e,o)=>{e.split("").forEach((e,o)=>{0==o&&(t+=e.toString().toUpperCase()),o>0&&(t+=e.toString().toLowerCase())}),t+=" "}):e.split("").forEach((e,o)=>{0==o&&(t+=e.toString().toUpperCase()),o>0&&(t+=e.toString().toLowerCase())});return t}finalizaStepOne(){const e=this._shadowRoot.getElementById("editaDadosPessoaisForm"),t=this._shadowRoot.getElementById("editaDadosPessoaisLabel"),o=this._shadowRoot.getElementById("editaDadosPessoaisButton");this._shadowRoot.getElementById("pnome_completo").innerHTML=this._shadowRoot.getElementById("nome_completo").value,this._shadowRoot.getElementById("pemail").innerHTML=this._shadowRoot.getElementById("email").value,this._shadowRoot.getElementById("pcpf").innerHTML=this._shadowRoot.getElementById("cpf").value,this._shadowRoot.getElementById("ptelefone").innerHTML=this._shadowRoot.getElementById("telefone").value,t.classList.remove("hidden"),e.classList.add("hidden"),o.classList.remove("hidden")}editarDadosPessoais(){currentStep=1;const e=this._shadowRoot.getElementById("editaDadosPessoaisForm"),t=this._shadowRoot.getElementById("editaDadosPessoaisLabel"),o=this._shadowRoot.getElementById("editaDadosPessoaisButton");t.classList.add("hidden"),e.classList.remove("hidden"),o.classList.add("hidden")}finalizaStepTwo(){const e=this._shadowRoot.getElementById("editaDadosEnderecoForm"),t=this._shadowRoot.getElementById("editaDadosEnderecoLabel"),o=this._shadowRoot.getElementById("editaDadosEnderecoButton");this._shadowRoot.getElementById("penderecobairro").innerHTML=this._shadowRoot.getElementById("endereco").value+" - "+this._shadowRoot.getElementById("bairro").value,this._shadowRoot.getElementById("pcidadeestado").innerHTML=cidadeEnd+" - "+estadoEnd,this._shadowRoot.getElementById("pcep").innerHTML="CEP: "+this._shadowRoot.getElementById("cep").value,t.classList.remove("hidden"),e.classList.add("hidden"),o.classList.remove("hidden"),this.GetFretes()}editarDadosEndereco(){currentStep=2;const e=this._shadowRoot.getElementById("editaDadosEnderecoForm"),t=this._shadowRoot.getElementById("editaDadosEnderecoLabel"),o=this._shadowRoot.getElementById("editaDadosEnderecoButton");t.classList.add("hidden"),e.classList.remove("hidden"),o.classList.add("hidden")}validateMyForm(){errors=[],1==currentStep&&(formValidateDadosPessoais.forEach((e,t)=>{1==e.required&&this.checkField(e.nome)&&errors.push({field:e.nome,mensagem:"Campo "+this.getFieldName(e.nome)+" é Obrigatório."})}),this.saveLead()),2==currentStep&&(formValidateDadosEndereco.forEach((e,t)=>{1==e.required&&this.checkField(e.nome)&&errors.push({field:e.nome,mensagem:"Campo "+this.getFieldName(e.nome)+" é Obrigatório."})}),this.saveLead()),3==currentStep&&"bolbradesco"==formaPagamento&&this.saveLead(),3==currentStep&&"creditCard"==formaPagamento&&(formValidateDadosCartao.forEach((e,t)=>{1==e.required&&this.checkField(e.nome)&&errors.push({field:e.nome,mensagem:"Campo "+this.getFieldName(e.nome)+" é Obrigatório."})}),this.saveLead());this._shadowRoot.getElementById("alertErros"),this._shadowRoot.getElementById("alertReturn");return errors.length>0?(this.showNotificationW("Oops!",errors[0].mensagem,"error"),!1):(1==currentStep&&this.finalizaStepOne(),2==currentStep&&this.finalizaStepTwo(),3==currentStep&&0==errors.length&&("bolbradesco"==formaPagamento&&this.iniciaPagamentoBackEndBoleto(),"creditCard"==formaPagamento&&this.iniciaPagamentoBackEndCard()),currentStep<3&&(currentStep+=1),!0)}getAjax(e,t){var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return o.open("GET",e),o.onreadystatechange=function(){o.readyState>3&&200==o.status&&t(o.responseText)},o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(),o}postAxios(e,t,o){axios.post(e,t).then(function(e){o(e)}).catch(function(e){console.log("Erro ao executar Axios",e)})}getAxios(e,t){axios.get(e).then(function(e){console.log(e)}).catch(function(e){console.log(e)}).finally(function(){})}ShowLoadingT(e){this.isShowingLoading=!0,Swal.fire({customClass:"swal-wide",title:'<span class="text-aguard">'+e+"</span>",html:" <div class='card-body align-items-center justify-content-center'>             <div class='ball-scale-ripple-multiple widthLoadingDiv'>                <div class='loadingSwall'></div>               <div class='loadingSwall'></div>                <div class='loadingSwall'></div>            </div>        </div>",showConfirmButton:!1,showCancelButton:!1,allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,timerProgressBar:!0,onBeforeOpen:()=>{},onClose:()=>{}})}showNotification(e,t){Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3500,timerProgressBar:!0,onOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:t,title:e})}showNotificationW(e,t,o){Swal.fire(e,t,o)}async saveLead(){var e=await this.getDadosPagamentoTransacao();let t={id_usuario:dadosLoja.id_usuario,email:this._shadowRoot.getElementById("email").value,nome:this._shadowRoot.getElementById("nome_completo").value,telefone:this._shadowRoot.getElementById("telefone").value,lead:e};this.postAxios(URL_END_POINT_SAVE_LEAD,t,e=>{console.log("L S")})}getErrorField(e){const t=errors.find(t=>t.field==e);if(null!=t)return t.mensagem}maskCPF(){const e=this._shadowRoot.getElementById("cpf");e.value=e.value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}maskCPFTitular(){const e=this._shadowRoot.getElementById("cpf_titular");e.value=e.value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}maskTelefone(){const e=this._shadowRoot.getElementById("telefone");e.value=e.value.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")}maskCardNumber(){const e=this._shadowRoot.getElementById("card_number");e.value="amex"==payment_id?e.value.replace(/(\d{4})(\d{4})(\d{4})(\d{3})/,"$1 $2 $3 $4"):e.value.replace(/(\d{4})(\d{4})(\d{4})(\d{4})/,"$1 $2 $3 $4")}toAsterisk(e){var t="";e.indexOf(" ")>-1?e.split(" ").forEach((e,o)=>{e.split("").forEach((e,o)=>{0==o&&(t+=e.toString().toUpperCase()),o>0&&(t+="*")}),t+=" "}):e.split("").forEach((e,o)=>{0==o&&(t+=e.toString().toUpperCase()),o>0&&(t+="*")});return t}setStarValue(e){rating=e,console.log(e)}CREATE_FORM_MP(e,t,o,a,i,r,s,l,n,d,c){return new Promise(async(p,m)=>{document.contains(this._shadowRoot.getElementById("pay"))&&this._shadowRoot.getElementById("pay").remove();var u=document.createElement("form");u.setAttribute("method","post"),u.setAttribute("action","/processar_pagamento"),u.setAttribute("id","pay"),u.setAttribute("name","pay");var g=document.createElement("FIELDSET"),h=document.createElement("input");h.setAttribute("type","text"),h.setAttribute("name","description"),h.setAttribute("id","description"),h.setAttribute("data-checkout","description"),h.setAttribute("value",e),g.appendChild(h);var f=document.createElement("input");f.setAttribute("type","text"),f.setAttribute("name","transaction_amount"),f.setAttribute("id","transaction_amount"),f.setAttribute("data-checkout","transaction_amount"),f.setAttribute("value",t),g.appendChild(f);var v=document.createElement("input");v.setAttribute("type","text"),v.setAttribute("name","cardNumber"),v.setAttribute("id","cardNumber"),v.setAttribute("data-checkout","cardNumber"),v.setAttribute("value",o),g.appendChild(v);var b=document.createElement("input");b.setAttribute("type","text"),b.setAttribute("name","cardholderName"),b.setAttribute("id","cardholderName"),b.setAttribute("data-checkout","cardholderName"),b.setAttribute("value",a),g.appendChild(b);var _=document.createElement("input");_.setAttribute("type","text"),_.setAttribute("name","cardExpirationMonth"),_.setAttribute("id","cardExpirationMonth"),_.setAttribute("data-checkout","cardExpirationMonth"),_.setAttribute("value",i),g.appendChild(_);var w=document.createElement("input");w.setAttribute("type","text"),w.setAttribute("name","cardExpirationYear"),w.setAttribute("id","cardExpirationYear"),w.setAttribute("data-checkout","cardExpirationYear"),w.setAttribute("value",r),g.appendChild(w);var E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("name","securityCode"),E.setAttribute("id","securityCode"),E.setAttribute("data-checkout","securityCode"),E.setAttribute("value",s),g.appendChild(E);var y=document.createElement("select");y.name="installments",y.id="installments";var x=document.createElement("option");x.setAttribute("value",l),x.setAttribute("selected","selected"),y.appendChild(x),g.appendChild(y);var S=document.createElement("select");S.name="docType",S.id="docType",S.setAttribute("data-checkout","docType");var R=document.createElement("option");R.setAttribute("value","CPF"),R.setAttribute("selected","selected"),S.appendChild(R),g.appendChild(S);var T=document.createElement("input");T.setAttribute("type","text"),T.setAttribute("name","docNumber"),T.setAttribute("id","docNumber"),T.setAttribute("data-checkout","docNumber"),T.setAttribute("value",n),g.appendChild(T);var C=document.createElement("input");C.setAttribute("type","text"),C.setAttribute("name","email"),C.setAttribute("id","email"),C.setAttribute("data-checkout","email"),C.setAttribute("value",d),g.appendChild(C);var I=document.createElement("input");I.setAttribute("type","hidden"),I.setAttribute("name","email"),I.setAttribute("id","email"),I.setAttribute("data-checkout","payment_method_id"),I.setAttribute("value",c),g.appendChild(I),u.appendChild(g),p(u)})}collapse(e,t){const o=this._shadowRoot.querySelector(e),a=this._shadowRoot.querySelector(t);o.classList.contains("show")?(o.classList.remove("show"),a.classList.remove("fa-arrow-up"),a.classList.add("fa-arrow-down")):(o.classList.add("show"),a.classList.remove("fa-arrow-down"),a.classList.add("fa-arrow-up"))}toggleSelect(e){e.id;var t=e.options[e.selectedIndex].value;if(0==t)return void(VarianteIDUpSellSelected=0);var o=produtoVariantes.find(e=>e.id==t).image;produtoVariantes.find(e=>e.id==t).selected=t;const a=produtoVariantes.find(e=>e.id==t).sku;produtoVariantes.find(e=>e.id==t).SkuSelected=a;var i=produtoVariantes.find(e=>e.id==t).title;const r=produtoVariantes.find(e=>e.id==t).price;VarianteIDUpSellSelected=t,VarianteImageUpSellSelected=o,VarianteSKUUpSellSelected=a,VariantePriceUpSellSelected=parseFloat(r),VarianteTitleUPSellSelected=i}async adicionarProdutoUpSell(){if(""==VarianteTitleUPSellSelected&&""==VarianteIDUpSellSelected)return;this.ShowLoading();var e=await this.pushProducts(VarianteIDProdutoJSONUpSellSelected,quantity,VarianteIDUpSellSelected),t=produtosCart.find(e=>e.variant_id==VarianteIDUpSellSelected);if(console.log("Exists",t),null==t)produtosCart.push(e);else{var o=produtosCart.find(e=>e.variant_id==VarianteIDUpSellSelected).quantity;o+=e.quantity,produtosCart.find(e=>e.variant_id==VarianteIDUpSellSelected).quantity=o}sessionStorage.setItem("cart",JSON.stringify(produtosCart));const a=this._shadowRoot.getElementById("items");a.innerHTML="";const i=this._shadowRoot.getElementById("totalQuantity"),r=produtosCart.length;var s=" Item";r>1&&(s=" Itens"),i.innerHTML=r+s,produtosCart.forEach((e,t)=>{LTotal+=parseFloat(e.variant_price)*parseFloat(e.quantity);const o=TEMPLATE_ITENS_CART.replace("{img}",e.variant_img).replace("{title}",e.title).replace("{variant_title}",e.variant_title).replace("{quantity}",e.quantity).replace("{variant_price}",this.formatPrice(e.variant_price)).replace("{id_cart}","cartTrash"+t);a.insertAdjacentHTML("beforeend",o);var i="cartTrash"+t;const r=this._shadowRoot.getElementById(i);var s=this;r.addEventListener("click",()=>{s.removeItemFromCart(i,e)}),this.getTotal()});const l=this._shadowRoot.getElementById("granTotal"),n=this._shadowRoot.getElementById("granTotal2");if(l.innerHTML="",n.innerHTML="",l.innerHTML="R$ ".concat(this.formatPrice(granTotal)),n.innerHTML="Valor R$ ".concat(this.formatPrice(granTotal)),produtosCart.length>0){this._shadowRoot.getElementById("formContinua").classList.remove("hidden")}this.HideLoading()}async montaDadosCarrinho(){var e="";e=1==direct_to_checkout?"checkout":"cart";const t=JSON.parse(sessionStorage.getItem("cart")),o="limpa_carrinho=1&redirectTo="+e+"&qtd_items="+t.length+"&store="+dadosLoja.url_loja,a=ULR_BASE_WEB+"cart/items?";var i="";t.forEach((e,t)=>{i+="produto_option_id[{id}]={value_one}&produto_option_quantity[{id}]={value_two}&produto_option_variante_id[{id}]={value_three}&".replace(/{id}/g,t).replace("{value_one}",e.id_thuor).replace("{value_two}",e.quantity).replace("{value_three}",e.variant_id)}),i=a+i+o,console.log(i),this.ShowLoading(),window.location.href=i}removeItemFromCart(e,t){this.ShowLoading();const o=JSON.parse(sessionStorage.getItem("cart")),a=o.findIndex(e=>e.id_thuor==t.id_thuor);a>-1&&(o.splice(a,1),sessionStorage.setItem("cart",JSON.stringify(o)),this.reprocessaItensCart())}reprocessaItensCart(){produtosCart=JSON.parse(sessionStorage.getItem("cart"));const e=this._shadowRoot.getElementById("items");e.innerHTML="";const t=this._shadowRoot.getElementById("totalQuantity"),o=produtosCart.length;var a=" Item";o>1&&(a=" Itens"),t.innerHTML=o+a,produtosCart.forEach((t,o)=>{LTotal+=parseFloat(t.variant_price)*parseFloat(t.quantity);const a=TEMPLATE_ITENS_CART.replace("{img}",t.variant_img).replace("{title}",t.title).replace("{variant_title}",t.variant_title).replace("{quantity}",t.quantity).replace("{variant_price}",this.formatPrice(t.variant_price)).replace("{id_cart}","cartTrash"+o);e.insertAdjacentHTML("beforeend",a);var i="cartTrash"+o;const r=this._shadowRoot.getElementById(i);var s=this;r.addEventListener("click",()=>{s.removeItemFromCart(i)}),this.getTotal()});const i=this._shadowRoot.getElementById("granTotal"),r=this._shadowRoot.getElementById("granTotal2");if(i.innerHTML="",r.innerHTML="",i.innerHTML="R$ ".concat(this.formatPrice(granTotal)),r.innerHTML="Valor R$ ".concat(this.formatPrice(granTotal)),produtosCart.length>0){this._shadowRoot.getElementById("formContinua").classList.remove("hidden")}this.HideLoading()}async pushProducts(e,t,o){return new Promise(async(a,i)=>{try{this.postAxios(URL_END_POINT_GET_PRODUCT_IMPORTED,{id_produto:e,quantity:t,variant:o},e=>{a(e.data)})}catch(e){console.log("Erro ao pegar os dados do produto na API",e)}})}formatPrice(e){return(e/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}setDadosEndereco(e){""!=e?(endereco=this._shadowRoot.getElementById("endereco"),bairro=this._shadowRoot.getElementById("bairro"),cidade=this._shadowRoot.getElementById("cidadeestado"),complemento=this._shadowRoot.getElementById("complemento"),destinatario=this._shadowRoot.getElementById("destinatario"),endereco.value=e.logradouro,bairro.value=e.bairro,cidade.innerHTML=e.localidade+" - "+e.uf,complemento.value=e.complemento,destinatario.value=this._shadowRoot.getElementById("nome_completo").value,cidadeEnd=e.localidade,estadoEnd=e.uf):(endereco.value="",bairro.value="",cidade.value="",estado.value="",complemento.value="",destinatario.value=""),this.HideLoading()}consultaCEP(){(CEP=this._shadowRoot.getElementById("cep")).value.length>=8?(CEP.value=CEP.value.replace(/(\d{5})(\d{3})/,"$1-$2"),this.ShowLoading(),this.postAxios(URL_END_PONT_GET_CEP,{cep:CEP.value},e=>{e=e.data;this.setDadosEndereco(e)})):this.setDadosEndereco("")}GetFretes(){this.ShowLoading();const e=this._shadowRoot.getElementById("cardFretes");e.innerHTML="",this.postAxios(URL_END_POINT_GET_FRETE,{shop:dadosLoja.url_loja},t=>{const o=t.data;fretes=o,o.length>0&&(o.forEach((t,o)=>{const a=TEMPLATE_ITENS_FRETE.replace(/{id_frete}/g,"btn"+t.id).replace(/{nome_frete}/g,t.nome).replace("{{preco_frete}}",t.preco);e.insertAdjacentHTML("beforeend",a);const i=this._shadowRoot.getElementById("btn"+t.id);i&&i.addEventListener("click",()=>{this.freteSelected(t.id)}),setTimeout(()=>{this.selecionaPadrao(t.id,t.preco,t.nome)},500)}),this.HideLoading())})}selecionaPadrao(e,t,o){return("0,00"==t||o.toUpperCase().includes("GRÁTIS"))&&this.freteSelected(e),!0}InsertScriptGoogle(e){return new Promise(async(t,o)=>{e.forEach(async(e,t)=>{if(2==e.tipo)await this.InsertScriptById(e.google_analytics_id),await this.InsertTagScript(e.google_analytics_id,e.google_analytics_id)}),t(1)})}async TriggerGoogleEvent(e,t){var o="AW-{ID}/{ROTULO}";pixels.forEach((a,i)=>{if(2==a.tipo){var r=[];if(null!=a.google_id_conversao&&a.google_id_conversao.length>0)if(null!=a.array_produtos_id&&a.array_produtos_id.length>3){if((r=JSON.parse(a.array_produtos_id)).length>0){const a=JSON.parse(sessionStorage.getItem("cart"));r.forEach((i,r)=>{null!=a.find(e=>e.id_thuor==i.id_thuor)&&(i.marca_boleto&&null!=t?gtag("event",e,{send_to:o.replace("{ID}",i.google_id_conversao).replace("{ROTULO}",i.google_rotulo_conversao)}):null==t&&gtag("event",e,{send:o.replace("{ID}",i.google_id_conversao).replace("{ROTULO}",i.google_rotulo_conversao)}))})}}else void 0!==t&&1==a.marca_boleto?gtag("event",e,{send_to:o.replace("{ID}",a.google_id_conversao).replace("{ROTULO}",a.google_rotulo_conversao)}):null==t&&gtag("event",e,{send_to:o.replace("{ID}",a.google_id_conversao).replace("{ROTULO}",a.google_rotulo_conversao)})}})}InsertScriptById(e){return new Promise(async(t,o)=>{const a=document.createElement("script");a.onload=function(){t(!0)},a.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=UA-"+e),a.async=!0,document.head.appendChild(a)})}InsertTagScript(e,t){return new Promise(async(o,a)=>{const i=document.createElement("script");var r=document.createTextNode("window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-"+e+"', {'send_page_view': false, 'optimize_id': 'GTM-"+e+"'}); gtag('config', 'GA-"+e+"', {'optimize_id': 'GTM-"+e+"'}); gtag('config', 'AW-"+t+"');");i.appendChild(r),document.head.appendChild(i),o(1)})}InsertScriptFace(e){return new Promise(async(t,o)=>{const a=document.createElement("script");var i=document.createTextNode("!function (f, b, e, v, n, t, s) { if (f.fbq) return; n = f.fbq = function () { n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments) }; if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0'; n.queue = []; t = b.createElement(e); t.async = !0; t.src = v; s = b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t, s) }(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js')");a.appendChild(i),document.head.appendChild(a),e.forEach((e,t)=>{1==e.tipo&&fbq("init",e.facebook_id_pixel)}),t(1)})}async TriggerFacebookEvent(e,t){pixels.forEach((o,a)=>{if(1==o.tipo){var i=[];if(null!=o.facebook_id_pixel&&o.facebook_id_pixel.length>0)if(null!=o.array_produtos_id&&o.array_produtos_id.length>3){if((i=JSON.parse(o.array_produtos_id)).length>0){const o=JSON.parse(sessionStorage.getItem("cart"));i.forEach((a,i)=>{null!=o.find(e=>e.id_thuor==a.id_thuor)&&(a.marca_boleto&&null!=t?fbq("track",e):null==t&&fbq("track",e))})}}else void 0!==t&&1==o.marca_boleto?fbq("track",e):null==t&&fbq("track",e)}})}freteSelected(e){freteSelecionado=e;fretes.find(e=>e.id==freteSelecionado).nome;valorFrete=parseFloat(fretes.find(e=>e.id==freteSelecionado).preco),console.log(valorFrete),fretes.forEach((e,t)=>{const o=this._shadowRoot.getElementById("btn"+e.id);o&&(o.classList.remove("classSelected"),o.classList.remove("opcaoSelecionada"),o.classList.add("opcaoDeselecionada"))});const t=this._shadowRoot.getElementById("btn"+e);t&&(t.classList.remove("opcaoDeselecionada"),t.classList.add("opcaoSelecionada")),this.getTotal()}async getTotal(){this.ShowLoading(),this.totalQuantity=0,this.descontoCupom=0;var e=0,t=0,o=0,a={subTotal:0,total:0,discount:0};if(null!=sessionStorage.getItem("cart")&&(produtosCart=JSON.parse(sessionStorage.getItem("cart"))),null!=sessionStorage.getItem("vld")&&(descontoCupom=parseFloat(sessionStorage.getItem("vld"))),null!=produtosCart){produtosCart.forEach((a,i)=>{e=parseFloat(e)+parseFloat(a.variant_price_ancora)*parseInt(a.quantity),t=parseFloat(t)+parseFloat(a.variant_price)*parseFloat(a.quantity),totalQuantity=parseInt(totalQuantity)+parseInt(a.quantity),parseFloat(e)>parseFloat(t)&&(o=parseFloat(e)-parseFloat(t)),parseFloat(t)>parseFloat(e)&&(o=parseFloat(t)-parseFloat(e))}),t=parseFloat(t)-parseFloat(descontoCupom),t=parseFloat(t)+parseFloat(valorFrete),granSubTotal=e,granDesconto=o,granTotal=t,a={subTotal:e,total:t,discount:o};const i=this._shadowRoot.getElementById("granTotal"),r=this._shadowRoot.getElementById("granTotal2"),s="R$ ",l="Valor R$ ";return i.innerHTML=s.concat(this.formatPrice(granTotal)),r.innerHTML=l.concat(this.formatPrice(granTotal)),this.HideLoading(),a}}formaPagamentoSelecionada(e){formaPagamento=e,payment_id=e;const t=this._shadowRoot.getElementById("creditCard"),o=this._shadowRoot.getElementById("bolbradesco"),a=this._shadowRoot.getElementById("creditCardForm"),i=this._shadowRoot.getElementById("bolbradescoForm");t.classList.remove("opcaoSelecionada"),o.classList.remove("opcaoSelecionada"),t.classList.add("opcaoDeSelecionada"),o.classList.add("opcaoDeSelecionada"),a.classList.add("hidden"),i.classList.add("hidden");const r=e+"Form",s=this._shadowRoot.getElementById(r);s&&(s.classList.remove("hidden"),s.classList.add("opcaoSelecionada"));const l=this._shadowRoot.getElementById(e);l&&l.classList.add("opcaoSelecionada"),this._shadowRoot.getElementById("valorTotalBoleto").innerHTML=this.formatPrice(granTotal),this.TriggerFacebookEvent("AddPaymentInfo"),this.TriggerGoogleEvent("add_payment_info")}removeAcento(e){return e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(new RegExp("[ÁÀÂÃ]","gi"),"a")).replace(new RegExp("[ÉÈÊ]","gi"),"e")).replace(new RegExp("[ÍÌÎ]","gi"),"i")).replace(new RegExp("[ÓÒÔÕ]","gi"),"o")).replace(new RegExp("[ÚÙÛ]","gi"),"u")).replace(new RegExp("[Ç]","gi"),"c")}getFreteSelecionadoNome(){var e="";if(fretes.length>0){const t=fretes.find(e=>e.id==freteSelecionado);t&&(e=t.nome)}return e}getRandomStringEmail(){return Math.random().toString(36).substring(11)}getDadosPagamentoTransacao(){return new Promise((e,t)=>{try{var o={dadosComprador:{nome_completo:this.removeAcento(this._shadowRoot.getElementById("nome_completo").value),email:this._shadowRoot.getElementById("email").value,cpf:this._shadowRoot.getElementById("cpf").value,telefone:this._shadowRoot.getElementById("telefone").value,cep:this._shadowRoot.getElementById("cep").value,endereco:this.removeAcento(this._shadowRoot.getElementById("endereco").value),numero_porta:this._shadowRoot.getElementById("numero_porta").value,bairro:this._shadowRoot.getElementById("bairro").value,cidade:cidadeEnd,estado:estadoEnd,complemento:this.removeAcento(this._shadowRoot.getElementById("complemento").value),destinatario:this.removeAcento(this._shadowRoot.getElementById("destinatario").value),numero_cartao:this._shadowRoot.getElementById("card_number").value,validade:this._shadowRoot.getElementById("validade").value,nome_titular:this._shadowRoot.getElementById("nome_titular").value,codigo_seguranca:this._shadowRoot.getElementById("codigo_seguranca").value,cpf_titular:this._shadowRoot.getElementById("cpf_titular").value,frete:this.getFreteSelecionadoNome(),valor:this.formatPrice(granTotal),forma:formaPagamento,barcode:"",urlBoleto:"",parcela:parcelas,valorParcela:"",bandeira:payment_id},produtos:produtosCart,dadosLoja:dadosLoja,dadosCheckout:DadosCheckout,paymentData:{transaction_amount:this.formatPrice(granTotal),token:cardToken,description:dadosLoja.nome_loja,installments:parcelas,payment_method_id:payment_id,payer:{email:this.getRandomStringEmail()+this._shadowRoot.getElementById("email").value}}};const a=JSON.stringify(o);e(btoa(a))}catch(e){t(e)}})}async iniciaPagamentoBackEndBoleto(){this.ShowLoading(),window.Mercadopago.clearSession();const e=await this.getDadosPagamentoTransacao();sessionStorage.setItem("cr",e),this.postAxios(URL_END_POINT_PAY_TICKET,{pay:e},e=>{if(null==e.data.status||"REJECTED"!=e.data.status.toUpperCase()&&"CANCELED"!=e.data.status.toUpperCase()&&"VACATED"!=e.data.status.toUpperCase()){e.data;window.Mercadopago.clearSession(),this.showNotificationW("Pagamento Realizado!","Em instantes você irá receber um e-mail com os detalhes da sua compra.","success")}else this.showNotificationW("Oops!","Pagamento Rejeitado. Por favor, tente novamente.","error")})}async iniciaPagamentoBackEndCard(){this.ShowLoading();var e=this._shadowRoot.getElementById("dropParcelas"),t=e.options[e.selectedIndex].value;const o=await this.CREATE_FORM_MP(dadosLoja.nome_loja,parseFloat(granTotal),this._shadowRoot.getElementById("card_number").value.replace(/ /g,""),this._shadowRoot.getElementById("nome_titular").value,this._shadowRoot.getElementById("validade").value.split("/")[0],this._shadowRoot.getElementById("validade").value.split("/")[1],this._shadowRoot.getElementById("codigo_seguranca").value,t,this._shadowRoot.getElementById("cpf_titular").value,this._shadowRoot.getElementById("email").value,payment_id);var a=this;window.Mercadopago.createToken(o,async(e,t)=>{if(200!=e&&201!=e)window.Mercadopago.clearSession(),a.showNotificationW("Oops!","Não foi possível completar a ação. Tente novamente!","warning");else{a.ShowLoading(),cardToken=t.id;const e=await a.getDadosPagamentoTransacao();a.postAxios(URL_END_POINT_PAY_CARD,{pay:e},async e=>{if(null==e.data.status||"REJECTED"!=e.data.status.toUpperCase()&&"CANCELED"!=e.data.status.toUpperCase()&&"VACATED"!=e.data.status.toUpperCase()){a._shadowRoot.getElementById("nome_completo").value,e.data;window.Mercadopago.clearSession(),a.showNotificationW("Pagamento Realizado!","Em instantes você irá receber um e-mail com os detalhes da sua compra.","success")}else{const t=await a.getErrorMPDetail(e.data.status_detail);a.showNotificationW("Oops!","Pagamento Rejeitado. "+t,"error")}})}})}getParcelas(){var e=this;window.Mercadopago.getInstallments({payment_method_id:payment_id,amount:granTotal},function(t,o){200==t?(e._shadowRoot.getElementById("dropParcelas").options.length=0,o[0].payer_costs.forEach(t=>{let o=document.createElement("option");o.text=t.recommended_message,o.value=t.installments,o.id="parcel_"+t.installments,e._shadowRoot.getElementById("dropParcelas").appendChild(o),setTimeout(()=>{e._shadowRoot.getElementById("dropParcelas").selectedIndex=0,e._shadowRoot.getElementById("dropParcelas").value=1,e.parcelas=1},1e3)})):console.log(`installments method info error: ${o}`)})}setParcelas(){setTimeout(()=>{this._shadowRoot.getElementById("dropParcelas").selectedIndex=0,this._shadowRoot.getElementById("dropParcelas").value=1,parcelas=1},1e3)}maskValidade(){const e=this._shadowRoot.getElementById("validade");e.value=e.value.replace(/(\d{2})(\d{2})/,"$1/$2")}verificaDigitosCartao(){const e=this._shadowRoot.getElementById("card_number").value.replace(/ /g,"");if(e.length>=6){let t=e.substring(0,6);window.Mercadopago.getPaymentMethod({bin:t},(e,t)=>{200==e?(payment_id=t[0].id,this._shadowRoot.getElementById("dropParcelas").length<2&&this.getParcelas(),this.setParcelas()):this.showNotificationW("Oops!","Cartão de Crédito Não Reconhecido. Verifique!","error")})}this.maskCardNumber()}async iniciaPagamentoBackEnd(e,t){var o=this;if(200!=e&&201!=e)window.Mercadopago.clearSession(),o.showNotificationW("Oops!","Não foi possível completar a ação. Tente novamente!","warning");else{o.ShowLoading(),cardToken=t.id;const e=await o.getDadosPagamentoTransacao();o.postAxios(URL_END_POINT_PAY_CARD,{pay:e},async e=>{if(null==e.data.status||"REJECTED"!=e.data.status.toUpperCase()&&"CANCELED"!=e.data.status.toUpperCase()&&"VACATED"!=e.data.status.toUpperCase()){o._shadowRoot.getElementById("nome_completo").value,e.data;window.Mercadopago.clearSession(),o.showNotificationW("Pagamento Realizado!","Em instantes você irá receber um e-mail com os detalhes da sua compra.","success")}else{const t=await o.getErrorMPDetail(e.data.status_detail);o.showNotificationW("Oops!","Pagamento Rejeitado. "+t,"error")}})}}getErrorMPDetail(e){return new Promise((t,o)=>{try{"cc_rejected_insufficient_amount"==e&&t("Saldo Insuficiente No Cartão de Crédito"),"cc_rejected_bad_filled_card_number"==e&&t("Verifique o número do cartão."),"cc_rejected_bad_filled_date"==e&&t("Verifique a data de validade."),"cc_rejected_bad_filled_security_code"==e&&t("Código de segurança inválido.")}catch(e){o(e)}})}initializeFunction(){this._shadowRoot.getElementById("buttonAdd").addEventListener("click",()=>{this.adicionarProdutoUpSell()}),this._shadowRoot.getElementById("btnAcao").addEventListener("click",()=>{this.montaDadosCarrinho()}),this._shadowRoot.getElementById("collapseR").addEventListener("click",()=>{this.collapse("#collapseResumo","#comandoCollapse")});const e=this.getAttribute("id_produto");direct_to_checkout=this.getAttribute("direct_to_checkout");var t={id_produto:e};this.postAxios(URL_END_POINT_GET_PRODUCT,t,t=>{VarianteIDProdutoJSONUpSellSelected=e;const o=(produtoToSell=t.data).json_dados_produto.variants;images=produtoToSell.json_dados_produto.images;const a=produtoToSell.id_usuario;this.getDadosLoja(a),this.getPixels(a),o.forEach((e,t)=>{const o=images.find(t=>t.id==e.image_id).src,a={id:e.id,title:e.title,image:o,price:e.price,sku:e.sku};if(produtoVariantes.push(a),produtoVariantes&&produtoVariantes.length>0){var i=document.createElement("select");i.name="Opcao",i.classList.add("selectpicker"),i.id="Opcao",i.setAttribute("class","selectpicker form-control col-md-12 mt-2 ");var r=this;i.onchange=function(){r.toggleSelect(i)};const e=this._shadowRoot.getElementById("productOptions");e.innerHTML="",e.append(i);var s=document.createElement("option");s.value=0,s.text="Selecione",i.appendChild(s),produtoVariantes.forEach((e,t)=>{var o=document.createElement("option");o.value=e.id,o.text=e.title,i.appendChild(o)})}}),this.HideLoading()})}}customElements.define("thuor-opcoes",CheckoutMP);